<?xml version="1.0" encoding="UTF-8"?>
<solution xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="3dValidator.xsd" 
          companyName="ISEL" 
          projectName="Sample">
	<!--Dominio de tipos-->
	<userTypes generatedFileName="userTypes">
		<int name="identificador" maxInclusive="5000"/>
		<string name="nomeArtista"/>
		<string name="pais" maxLength="3" pattern="[A-Z]{3}"/>
		<string name="tituloAlbum" maxLength="100"/>
		<DateTime name="dataEdicaoLP"/>
		<string name="generoMusical">
			<enumeration>Rock</enumeration>
			<enumeration>Pop</enumeration>
			<enumeration>Reggae</enumeration>
			<enumeration>Blues</enumeration>
			<enumeration>Jazz</enumeration>
			<enumeration>Classica</enumeration>
		</string>
		<string name="nomeMusica"/>
		<string name="tempoMusica" pattern="[0-9]{2}:[0-9]{2}"/>
		<int name="anoColectanea"/>
		<string name="patrocinadorColectanea"/>
		<string name="nomeEditor" maxLength="50"/>
	</userTypes>
	<!--Servidores de BD-->
	<environments>
		<dataEnvironments>
			<provider name="FirstBDServer" type="MsSql2008" connectionString="Server=localhost;Initial Catalog=ORM_DB;User Id=sa;Password=root" serverName="127.0.0.1" instance="SQLSERVER1" username="sa" password="root" catalog="RN_RBAC1"/>
		</dataEnvironments>
	</environments>
  <businessProcesses>
    <component name="">
      <businessProcess name="" description="">
        <input>          
          <!-- 
               paramType ( entity, userType )  
               type - no caso de ser entity especifica o nome da entidade, no caso de ser userType, especifica o usertype.  
               name - tem que ser unico e sem espaços
               
               metodo
                 metodo de validação de parametros
                 metodo de com a lógica de negócio
                 
               permissão 
                  nome do componente & nome do processo de negócio               
          -->
          <param paramType="" type="" name="" minOccurs="1" maxOccurs="unbounded"></param>
        </input>
        <output paramType="" type="" minOccurs="1" maxOccurs="unbounded"/>
      </businessProcess>
    </component>
  </businessProcesses>
	<!--Definição de entidades-->
	<entities>
		<!--Entidade base Artista(idArtista, nome, nacionalidade) Relação 1-* com Musica-->
		<entity type="base" name="Artista" generatedFileName="Artista">
			<fields>
				<field type="identificador" name="idArtista" unique="true" nillable="true"/>
				<field type="nomeArtista" name="nome"/>
				<field type="pais" name="nacionalidade"/>
			</fields>
			<relations>
				<oneToMany entity="Musica" name="musicas" minOccurs="1" maxOccurs="unbounded"/>
			</relations>
		</entity>
		<!--Entidade Abstracta Album(idAlbum, titulo) Relação 1-1 com Editor-->
		<entity type="abstract" name="Album" generatedFileName="Album">
			<fields>
				<field type="identificador" name="idAlbum" unique="true"/>
				<field type="tituloAlbum" name="titulo"/>
			</fields>
			<relations>
				<oneToOne entity="Editor" name="editor" maxOccurs="1" minOccurs="1"/>
			</relations>
		</entity>
		<!--Entidade dependente de Album, LP(dtEdicao) Relação 1-* com Musica-->
		<entity type="dependent" name="LP" baseEntity="Album" generatedFileName="LP">
			<fields>
				<field type="dataEdicaoLP" name="dtEdicao"/>
			</fields>
			<relations>
				<oneToMany entity="Musica" name="musicas" minOccurs="1" maxOccurs="unbounded"/>
			</relations>
		</entity>
		<!--Entidade dependent de Album, EP() Relação 1-1 com Musica-->
		<entity type="dependent" name="EP" baseEntity="Album" generatedFileName="EP">
			<fields/>
		</entity>
		<!--Entidade dependent de Album, Colectanea(ano, patrocinador) Relação *-* com Musica-->
		<entity type="dependent" name="Colectanea" generatedFileName="Colectanea" baseEntity="Album">
			<fields>
				<field type="anoColectanea" name="ano"/>
				<field type="patrocinadorColectanea" name="patrocinador"/>
			</fields>
			<relations>
				<manyToMany entity="Musica" name="Musicas" minOccurs="1" maxOccurs="unbounded"/>
			</relations>
		</entity>
		<!--Entidade base Musica(idMusica, nome, duracao, genero) Relações: 1-1 com EP, 1-1 com LP, *-* com Colectanea-->
		<entity type="base" name="Musica" generatedFileName="Musica">
			<fields>
				<field type="identificador" name="idMusica" unique="true"/>
				<field type="nomeMusica" name="nome"/>
				<field type="tempoMusica" name="duracao"/>
				<field type="generoMusical" name="genero"/>
			</fields>
			<relations>
				<oneToOne entity="EP" name="EP" maxOccurs="1" minOccurs="1"/>
				<oneToOne entity="LP" name="Longplay" maxOccurs="1" minOccurs="1"/>
				<manyToMany entity="Colectanea" name="Colectaneas" maxOccurs="unbounded" minOccurs="0"/>
			</relations>
		</entity>
		<!--Entidade base Editor(idEditor, nome, pais) Relação 1-* com Album-->
		<entity type="base" name="Editor" generatedFileName="Editor">
			<fields>
				<field type="identificador" name="id" unique="true"/>
				<field type="nomeEditor" name="nome"/>
				<field type="pais" name="pais"/>
			</fields>
			<relations>
				<oneToMany entity="Album" name="Albuns" minOccurs="0" maxOccurs="unbounded"/>
			</relations>
		</entity>
	</entities>
</solution>
